{"ast":null,"code":"import _regeneratorRuntime from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Button,Modal}from\"react-bootstrap\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFormData={email:\"\",password:\"\"};var SignUp=function SignUp(_ref){var show=_ref.show,handleClose=_ref.handleClose;var _useState=useState(initialFormData),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var navigate=useNavigate();var handleChange=function handleChange(e){return setFormData(function(currentFormData){return _objectSpread(_objectSpread({},currentFormData),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch(\"/login\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resp){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(resp.status===201){localStorage.setItem(\"userId\",resp.user.id);navigate(\"/shoes\");}else{setError(\"Internal Server Error\");}case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}()).catch(function(err){return console.log(err);}));case 1:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Sign Up\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",className:\"m-3\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",className:\"m-3\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:error})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSubmit,children:\"Sign Up and Log In\"})]})]});};export default SignUp;","map":{"version":3,"names":["React","useState","Button","Modal","useNavigate","jsx","_jsx","jsxs","_jsxs","initialFormData","email","password","SignUp","_ref","show","handleClose","_useState","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","error","setError","navigate","handleChange","e","currentFormData","_objectSpread","_defineProperty","target","name","value","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","abrupt","fetch","method","headers","body","JSON","stringify","then","_ref3","_callee","resp","_callee$","_context","status","localStorage","setItem","user","id","stop","_x","apply","arguments","catch","err","console","log","onHide","children","Header","closeButton","Title","Body","type","placeholder","className","onChange","Footer","variant","onClick"],"sources":["/Users/new/bootcamp/FootWearhouse/client/src/SignUp.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst initialFormData = {\n    email: \"\",\n    password: \"\"\n}\n\nconst SignUp = ({ show, handleClose }) => {\n    const [formData, setFormData] = useState(initialFormData);\n    const [error, setError] = useState(\"\");\n    const navigate = useNavigate();\n\n    const handleChange = e => {\n        return setFormData(currentFormData => ({\n            ...currentFormData,\n            [e.target.name]: e.target.value\n        }));\n    };\n\n    const handleSubmit = async () => {\n        return fetch(\"/login\", {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n              },\n            body: JSON.stringify(formData),\n        })\n        .then(async resp => {\n            if (resp.status === 201) {\n                localStorage.setItem(\"userId\", resp.user.id);\n                navigate(\"/shoes\");\n            } else {\n                setError(\"Internal Server Error\");\n            }\n        })\n        .catch(err => console.log(err))\n    };\n\n    return (\n        <Modal show={show} onHide={handleClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>Sign Up</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <input type=\"text\" placeholder=\"username\" className=\"m-3\" onChange={handleChange} />\n                <br />\n                <input type=\"password\" placeholder=\"password\" className=\"m-3\" onChange={handleChange} />\n                <span className=\"text-danger\">{error}</span>\n            </Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleClose}>\n                Close\n            </Button>\n            <Button variant=\"primary\" onClick={handleSubmit}>\n                Sign Up and Log In\n            </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n};\n\nexport default SignUp;"],"mappings":"uoBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,KAAK,KAAQ,iBAAiB,CAC/C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,GAAM,CAAAC,eAAe,CAAG,CACpBC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CAED,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAAC,IAAA,CAA8B,IAAxB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAC/B,IAAAC,SAAA,CAAgCf,QAAQ,CAACQ,eAAe,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlDG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA0BpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,GAAM,CAAAG,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAsB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAGC,CAAC,CAAI,CACtB,MAAO,CAAAP,WAAW,CAAC,SAAAQ,eAAe,SAAAC,aAAA,CAAAA,aAAA,IAC3BD,eAAe,KAAAE,eAAA,IACjBH,CAAC,CAACI,MAAM,CAACC,IAAI,CAAGL,CAAC,CAACI,MAAM,CAACE,KAAK,IACjC,CAAC,CACP,CAAC,CAED,GAAM,CAAAC,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,SAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,UAAAC,SAAA,iBAAAA,SAAA,CAAAC,IAAA,CAAAD,SAAA,CAAAE,IAAA,gBAAAF,SAAA,CAAAG,MAAA,UACVC,KAAK,CAAC,QAAQ,CAAE,CACnBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAClB,CAAC,CACHC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAChC,QAAQ,CACjC,CAAC,CAAC,CACDiC,IAAI,6BAAAC,KAAA,CAAAjB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAgB,QAAMC,IAAI,SAAAlB,mBAAA,GAAAG,IAAA,UAAAgB,SAAAC,QAAA,iBAAAA,QAAA,CAAAd,IAAA,CAAAc,QAAA,CAAAb,IAAA,SACZ,GAAIW,IAAI,CAACG,MAAM,GAAK,GAAG,CAAE,CACrBC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAEL,IAAI,CAACM,IAAI,CAACC,EAAE,CAAC,CAC5CrC,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,IAAM,CACHD,QAAQ,CAAC,uBAAuB,CAAC,CACrC,CAAC,wBAAAiC,QAAA,CAAAM,IAAA,MAAAT,OAAA,GACJ,mBAAAU,EAAA,SAAAX,KAAA,CAAAY,KAAA,MAAAC,SAAA,QAAC,CACDC,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,0BAAA1B,SAAA,CAAAqB,IAAA,MAAAxB,QAAA,GAClC,kBAjBK,CAAAL,YAAYA,CAAA,SAAAC,KAAA,CAAA8B,KAAA,MAAAC,SAAA,OAiBjB,CAED,mBACI1D,KAAA,CAACL,KAAK,EAACW,IAAI,CAAEA,IAAK,CAACyD,MAAM,CAAExD,WAAY,CAAAyD,QAAA,eACnClE,IAAA,CAACH,KAAK,CAACsE,MAAM,EAACC,WAAW,MAAAF,QAAA,cACzBlE,IAAA,CAACH,KAAK,CAACwE,KAAK,EAAAH,QAAA,CAAC,SAAO,CAAa,CAAC,CACpB,CAAC,cACfhE,KAAA,CAACL,KAAK,CAACyE,IAAI,EAAAJ,QAAA,eACPlE,IAAA,UAAOuE,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,UAAU,CAACC,SAAS,CAAC,KAAK,CAACC,QAAQ,CAAEtD,YAAa,CAAE,CAAC,cACpFpB,IAAA,QAAK,CAAC,cACNA,IAAA,UAAOuE,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,UAAU,CAACC,SAAS,CAAC,KAAK,CAACC,QAAQ,CAAEtD,YAAa,CAAE,CAAC,cACxFpB,IAAA,SAAMyE,SAAS,CAAC,aAAa,CAAAP,QAAA,CAAEjD,KAAK,CAAO,CAAC,EACpC,CAAC,cACbf,KAAA,CAACL,KAAK,CAAC8E,MAAM,EAAAT,QAAA,eACblE,IAAA,CAACJ,MAAM,EAACgF,OAAO,CAAC,WAAW,CAACC,OAAO,CAAEpE,WAAY,CAAAyD,QAAA,CAAC,OAElD,CAAQ,CAAC,cACTlE,IAAA,CAACJ,MAAM,EAACgF,OAAO,CAAC,SAAS,CAACC,OAAO,CAAEjD,YAAa,CAAAsC,QAAA,CAAC,oBAEjD,CAAQ,CAAC,EACK,CAAC,EACZ,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA5D,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}