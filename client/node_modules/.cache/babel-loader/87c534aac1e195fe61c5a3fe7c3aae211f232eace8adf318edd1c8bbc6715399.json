{"ast":null,"code":"import _regeneratorRuntime from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/new/bootcamp/FootWearhouse/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Shoe from'./Shoe';import{Button,Modal}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFormData={name:'',description:'',size:0,price:0};var Shoes=function Shoes(){var userId=localStorage.getItem(\"userId\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shoes=_useState2[0],setShoes=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),creatingShoe=_useState4[0],setCreatingShoe=_useState4[1];var _useState5=useState(_objectSpread(_objectSpread({},initialFormData),{},{user_id:userId})),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setFormData=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(function(){fetch('/shoes',{method:'GET'}).then(function(resp){return resp.json();}).then(function(data){return setShoes(data);}).catch(function(err){return console.log(err);});},[]);var handleChange=function handleChange(e){return setFormData(function(currentFormData){return _objectSpread(_objectSpread({},currentFormData),{},_defineProperty({},e.target.name,e.target.value));});};var handleCreate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch('/shoes',{method:'POST',body:JSON.stringify(formData)}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resp){var response,_response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(resp.status===201)){_context.next=8;break;}_context.next=3;return resp.json();case 3:response=_context.sent;setShoes([response].concat(_toConsumableArray(shoes)));setCreatingShoe(false);_context.next=12;break;case 8:_context.next=10;return resp.json();case 10:_response=_context.sent;setError(_response.error);case 12:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){return console.log(err);}));case 1:case\"end\":return _context2.stop();}},_callee2);}));return function handleCreate(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shoes\"}),/*#__PURE__*/_jsx(Button,{className:\"m-1\",onClick:function onClick(){return setCreatingShoe(true);},children:\"Create Shoe\"}),shoes.map(function(shoe){return/*#__PURE__*/_jsx(Shoe,{shoe:shoe},shoe.id);}),/*#__PURE__*/_jsxs(Modal,{show:creatingShoe,onHide:function onHide(){return setCreatingShoe(false);},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Create New Shoe\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"mt-3\",onChange:handleChange,type:\"text\",name:\"name\",placeholder:\"Enter your shoe's name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{className:\"mt-3\",onChange:handleChange,name:\"nickname\",placeholder:\"Enter your shoe's description\",cols:\"40\",rows:\"3\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-3\",onChange:handleChange,type:\"text\",name:\"breed\",placeholder:\"Enter your shoe's size\"}),/*#__PURE__*/_jsx(\"br\",{}),\"$\",/*#__PURE__*/_jsx(\"input\",{className:\"mt-3\",onChange:handleChange,type:\"text\",name:\"color\",placeholder:\"Enter your shoe's price\"})]}),error]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return setCreatingShoe(false);},children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleCreate,children:\"Save Changes\"})]})]})]});};export default Shoes;","map":{"version":3,"names":["React","useEffect","useState","Shoe","Button","Modal","jsx","_jsx","jsxs","_jsxs","initialFormData","name","description","size","price","Shoes","userId","localStorage","getItem","_useState","_useState2","_slicedToArray","shoes","setShoes","_useState3","_useState4","creatingShoe","setCreatingShoe","_useState5","_objectSpread","user_id","_useState6","formData","setFormData","_useState7","_useState8","error","setError","fetch","method","then","resp","json","data","catch","err","console","log","handleChange","e","currentFormData","_defineProperty","target","value","handleCreate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","abrupt","body","JSON","stringify","_ref2","_callee","response","_response","_callee$","_context","status","sent","concat","_toConsumableArray","stop","_x","apply","arguments","children","className","onClick","map","shoe","id","show","onHide","Header","closeButton","Title","Body","onChange","type","placeholder","cols","rows","Footer","variant"],"sources":["/Users/new/bootcamp/FootWearhouse/client/src/Shoes.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Shoe from './Shoe';\nimport { Button, Modal } from 'react-bootstrap';\n\nconst initialFormData = {\n    name: '',\n    description: '',\n    size: 0,\n    price: 0\n};\n\nconst Shoes = () => {\n    const userId = localStorage.getItem(\"userId\");\n    const [shoes, setShoes] = useState([]);\n    const [creatingShoe, setCreatingShoe] = useState(false);\n    const [formData, setFormData] = useState({...initialFormData, user_id: userId});\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        fetch('/shoes', {\n            method: 'GET'\n        })\n        .then(resp => resp.json())\n        .then(data => setShoes(data))\n        .catch(err => console.log(err))\n    }, []);\n\n    const handleChange = e => {\n        return setFormData(currentFormData => ({\n            ...currentFormData,\n            [e.target.name]: e.target.value\n        }))\n    };\n\n    const handleCreate = async () => {\n        return fetch('/shoes', {\n            method: 'POST',\n            body: JSON.stringify(formData)\n        })\n        .then(async resp => {\n            if (resp.status === 201) {\n                const response = await resp.json();\n                setShoes([response, ...shoes]);\n                setCreatingShoe(false);\n            } else {\n                const response = await resp.json();\n                setError(response.error);\n            }\n        })\n        .catch(err => console.log(err))\n    };\n\n    return (\n        <div>\n            <h1>Shoes</h1>\n            <Button className='m-1' onClick={() => setCreatingShoe(true)}>Create Shoe</Button>\n            {shoes.map(shoe => {\n                return <Shoe key={shoe.id} shoe={shoe} />\n            })}\n            <Modal show={creatingShoe} onHide={() => setCreatingShoe(false)}>\n                <Modal.Header closeButton>\n                <Modal.Title>Create New Shoe</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <form>\n                        <input className='mt-3' onChange={handleChange} type='text' name='name' placeholder=\"Enter your shoe's name\" /><br />\n                        <textarea className='mt-3' onChange={handleChange} name='nickname' placeholder=\"Enter your shoe's description\" cols='40' rows='3' /><br />\n                        <input className='mt-3' onChange={handleChange} type='text' name='breed' placeholder=\"Enter your shoe's size\" /><br />\n                        $<input className='mt-3' onChange={handleChange} type='text' name='color' placeholder=\"Enter your shoe's price\" />\n                    </form>\n                    {error}\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"secondary\" onClick={() => setCreatingShoe(false) }>\n                    Close\n                </Button>\n                <Button variant=\"primary\" onClick={handleCreate}>\n                    Save Changes\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n};\n\nexport default Shoes;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}